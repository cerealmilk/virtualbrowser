<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- encoding: utf-8 -->

<html xmlns="http://www.w3.org/1999/xhtml" lang="is">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>jQuery.virtualBrowser</title>
  <style type="text/css">
    #VBwindow {  margin: 2em;  width: 250px;  background-color: #eee;  border: 1px solid #ccc;  padding: 3px 10px 10px 10px;  }
    h3        {  font-family: sans-serif;  font-size: 1em;  margin: 0 0 3px 0;  }
    #VBbody   {  background-color: #fff;  border: 1px solid #ddd;  padding: 5px 10px;  }
    #log      {  color: #999;  }
  </style>

  <script src="http://codecentre.eplica.is/jq/jquery-1.4-source.js"></script>
  <script src="jquery.virtualbrowser-1.1.js"></script>
  <script>
    jQuery(function($){

      $('#VBwindow')
          .bind('click', function (e) {
              $('#log').append( '#VBwindow got '+ e.type +'\n' );
            });

      $('#VBbody')
          .virtualBrowser({
              url: $('#VBbody a').attr('href'),
              onLoad: function (e, request) {
                  var dom = $.getResultBody( request.result );
                  dom.find('h1').each(function(i, h1Elm){
                      $(h1Elm)
                          .after( '<h4>'+ $(h1Elm).text() +'</h4>' )
                          .remove();
                    });
                  request.resultDOM = $(dom.contents());
                },
              onLoaded: function (e, request) {
                  $(this).append('<p>...append text on VBloaded.</p>');
                  ;;;window.console&&console.dir( request );
                }
            });

    });
  </script>
</head>
<body>

  <h1>jQuery.virtualBrowser</h1>

  <div id="VBwindow">
    <h3>Window Title</h3>
    <div id="VBbody">
      <p>Nothing here yet! <a href="demo/1.html">Click.</a></p>
    </div>
  </div>

  <pre id="log"></pre>

</body>
</html>